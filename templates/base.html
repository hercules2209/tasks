<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; script-src 'self' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data:; connect-src 'self';"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctext y='24' x='4' font-size='24'%3E🗂️%3C/text%3E%3C/svg%3E"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="csrf-token" content="{{ csrf_token }}" />
    <title>Task Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  </head>
  <body>
    {% set path = request.path %}
    <header class="app-header">
      <h1>Task Board</h1>

      <input type="checkbox" id="nav-toggle" />
      <label class="hamburger" for="nav-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </label>

      <nav class="topnav-links">
        <a href="{{ url_for('index') }}"
           class="nav-item {% if path == '/' or path.startswith('/tasks') %}active{% endif %}">
          <img class="nav-icon" src="{{ url_for('static', filename='images/board.png') }}" alt="" />
          <span>Board</span>
        </a>
        <a href="{{ url_for('graph_page') }}"
           class="nav-item {% if path.startswith('/graph') %}active{% endif %}">
          <img class="nav-icon" src="{{ url_for('static', filename='images/graph.png') }}" alt="" />
          <span>Graph</span>
        </a>
        <a href="{{ url_for('calendar') }}"
           class="nav-item {% if path.startswith('/calendar') %}active{% endif %}">
          <img class="nav-icon" src="{{ url_for('static', filename='images/calendar.png') }}" alt="" />
          <span>Calendar</span>
        </a>
      </nav>
    </header>

    <main class="app-main">{% block content %}{% endblock %}</main>

    <footer class="app-footer">
      <span>Today: {{ today }}</span>
    </footer>
  </body>
</html>
